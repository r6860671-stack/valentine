<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Valentine Protocol</title>
  <style>
    :root{
      --bg1:#ffe3ec;
      --bg2:#ff5c8a;
      --card: rgba(255,255,255,.82);
      --text:#141414;
      --yes:#22c55e;
      --no:#ef4444;
      --dark:#111827;
    }
    body{
      margin:0;
      min-height:100vh;
      display:grid;
      place-items:center;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background: radial-gradient(circle at top, var(--bg1), var(--bg2));
      color:var(--text);
      overflow:hidden;
    }

    /* ===== Loading Screen ===== */
    #loader{
      position:fixed;
      inset:0;
      display:grid;
      place-items:center;
      background: radial-gradient(circle at top, #111827, #000);
      color:white;
      z-index:9999;
      transition: opacity .5s ease, transform .5s ease;
    }
    #loader.hide{
      opacity:0;
      transform: scale(1.02);
      pointer-events:none;
    }
    .terminal{
      width:min(720px, 92vw);
      border-radius:22px;
      background: rgba(255,255,255,.08);
      box-shadow: 0 20px 60px rgba(0,0,0,.4);
      padding:22px;
      text-align:left;
      backdrop-filter: blur(10px);
    }
    .terminal .top{
      display:flex;
      gap:8px;
      margin-bottom:12px;
    }
    .dot{ width:12px; height:12px; border-radius:50%; }
    .dot.red{ background:#ff5f56;}
    .dot.yellow{ background:#ffbd2e;}
    .dot.green{ background:#27c93f;}
    .mono{
      font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;
      font-size:14px;
      line-height:1.55;
      opacity:.95;
      white-space:pre-wrap;
    }
    .blink{
      display:inline-block;
      width:10px;
      height:16px;
      background:white;
      margin-left:4px;
      animation: blink 1s step-end infinite;
      vertical-align:-2px;
    }
    @keyframes blink{
      50%{opacity:0;}
    }

    /* ===== Main Card ===== */
    .card{
      width:min(760px, 92vw);
      padding:44px 26px 34px;
      border-radius:26px;
      background:var(--card);
      backdrop-filter: blur(10px);
      box-shadow: 0 20px 60px rgba(0,0,0,.20);
      text-align:center;
      position:relative;
      transform: translateY(8px);
      opacity:0;
      animation: popIn .7s ease forwards;
      animation-delay: 2.4s; /* after loader fades */
    }
    @keyframes popIn{
      to{ transform: translateY(0); opacity:1;}
    }
    h1{
      margin:0 0 12px;
      font-size: clamp(28px, 5vw, 46px);
      letter-spacing:-0.02em;
    }
    p{
      margin:0 0 26px;
      font-size: clamp(15px, 2.4vw, 18px);
      opacity:.9;
    }
    .buttons{
      display:flex;
      gap:12px;
      justify-content:center;
      align-items:center;
      flex-wrap:wrap;
      position:relative;
      padding:10px 0 0;
    }
    button{
      border:0;
      padding:14px 22px;
      border-radius:999px;
      font-weight:900;
      cursor:pointer;
      font-size:18px;
      transition: transform .12s ease, filter .12s ease;
      user-select:none;
      white-space:nowrap;
    }
    button:active{ transform: scale(.97); }
    #yes{
      background:var(--yes);
      color:white;
      box-shadow: 0 12px 26px rgba(34,197,94,.35);
    }
    #no{
      background:var(--no);
      color:white;
      box-shadow: 0 12px 26px rgba(239,68,68,.35);
      position:relative;
    }
    .note{
      margin-top:18px;
      font-size:14px;
      opacity:.75;
    }

    /* toast */
    .toast{
      position:fixed;
      left:50%;
      bottom:20px;
      transform:translateX(-50%);
      background: rgba(17,24,39,.92);
      color:white;
      padding:10px 14px;
      border-radius:999px;
      font-size:14px;
      opacity:0;
      pointer-events:none;
      transition: opacity .18s ease, transform .18s ease;
      z-index:10000;
    }
    .toast.show{
      opacity:1;
      transform:translateX(-50%) translateY(-6px);
    }

    /* floating hearts */
    .heart{
      position:absolute;
      font-size:18px;
      opacity:.65;
      animation: floatUp 6s linear infinite;
      bottom:-40px;
      pointer-events:none;
    }
    @keyframes floatUp{
      0%{ transform: translateY(0) translateX(0) rotate(0deg); opacity:0; }
      12%{ opacity:.65; }
      100%{ transform: translateY(-120vh) translateX(50px) rotate(360deg); opacity:0; }
    }

    /* yes pulse */
    .pulse{
      animation: pulse .8s ease infinite;
    }
    @keyframes pulse{
      0%,100%{ transform: scale(1);}
      50%{ transform: scale(1.05);}
    }
  </style>
</head>
<body>

  <!-- Loading Screen -->
  <div id="loader">
    <div class="terminal">
      <div class="top">
        <div class="dot red"></div>
        <div class="dot yellow"></div>
        <div class="dot green"></div>
      </div>
      <div class="mono" id="log"></div>
      <span class="blink"></span>
    </div>
  </div>

  <!-- Main -->
  <div class="card">
    <h1>Hita, will you be my Valentine? üíò</h1>
    <p>I‚Äôm seeing you soon‚Ä¶ but I had to ask properly üòå</p>

    <div class="buttons" id="btnWrap">
      <button id="yes" class="pulse">YES üòå</button>
      <button id="no">no üò≠</button>
    </div>

    <div class="note">Warning: ‚Äúno‚Äù is currently disabled for your safety.</div>
  </div>

  <div class="toast" id="toast"></div>

  <!-- Confetti -->
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

  <script>
    // ===== LOADER SCRIPT =====
    const logEl = document.getElementById("log");
    const loader = document.getElementById("loader");

    const lines = [
      "Initializing Valentine Protocol v1.4.2...",
      "Locating Hita ‚úÖ",
      "Verifying cuteness level... ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà 100%",
      "Loading romantic intentions... ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà 100%",
      "Bypassing 'no' option... ‚úÖ",
      "Launching question..."
    ];

    let i = 0;
    function typeLine(){
      if(i >= lines.length){
        setTimeout(()=>loader.classList.add("hide"), 600);
        return;
      }
      logEl.textContent += (i===0 ? "" : "\n") + lines[i];
      i++;
      setTimeout(typeLine, 360);
    }
    typeLine();

    // ===== MAIN PAGE SCRIPT =====
    const noBtn = document.getElementById('no');
    const yesBtn = document.getElementById('yes');
    const wrap  = document.getElementById('btnWrap');
    const toast = document.getElementById('toast');

    const roasts = [
      "Try again üò≠",
      "That button is decorative.",
      "No?? in THIS economy??",
      "Nice attempt. Denied.",
      "Girl be serious üòå",
      "Absolutely not üíÄ"
    ];

    function showToast(msg){
      toast.textContent = msg;
      toast.classList.add('show');
      clearTimeout(window.__t);
      window.__t = setTimeout(()=>toast.classList.remove('show'), 1400);
    }

    // NO button teleports
    function dodge(){
      const rect = wrap.getBoundingClientRect();
      const maxX = rect.width - noBtn.offsetWidth;
      const maxY = 120;

      const x = Math.max(0, Math.min(maxX, Math.random()*maxX));
      const y = Math.random()*maxY;

      noBtn.style.transform = `translate(${x}px, ${y}px) rotate(${(Math.random()*14-7).toFixed(1)}deg)`;

      showToast(roasts[Math.floor(Math.random()*roasts.length)]);
    }

    noBtn.addEventListener('mouseenter', dodge);
    noBtn.addEventListener('click', dodge);
    noBtn.addEventListener('touchstart', (e)=>{ e.preventDefault(); dodge(); });

    // YES action
    yesBtn.addEventListener('click', ()=>{
      confetti({ particleCount: 220, spread: 100, origin: { y: 0.75 } });
      setTimeout(()=>confetti({ particleCount: 150, spread: 130, origin: { y: 0.7 } }), 260);
      showToast("Correct answer ‚úÖ");

      // small delay then go to gifts page
      setTimeout(()=>window.location.href="gifts.html", 900);
    });

    // floating hearts
    const hearts = ["üíó","üíñ","üíò","üíù","üíï","‚ù§Ô∏è"];
    setInterval(()=>{
      const h = document.createElement('div');
      h.className = 'heart';
      h.textContent = hearts[Math.floor(Math.random()*hearts.length)];
      h.style.left = Math.random()*100 + "vw";
      h.style.animationDuration = (4 + Math.random()*4) + "s";
      h.style.fontSize = (14 + Math.random()*22) + "px";
      document.body.appendChild(h);
      setTimeout(()=>h.remove(), 9000);
    }, 240);
  </script>

</body>
</html>
